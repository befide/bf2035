---
export type ResearchAgenda = ResearchAgendaItem[];

export interface ResearchAgendaItem {
  id: string;
  path: string;
  name: string;
  group?: string;
  label: string;
  description?: string;
  'links:agenda-topics'?: string[];
  'links:agenda-facilities'?: string[];
  usedInResearchAgenda: boolean;
  links: string[];
  'links:agenda-objectives'?: string[];
  collection?: string;
  nameIsAcronymFor?: string;
  userGroup?: string;
  facilityName?: string;
  lifeCycleStage?: string;
  isInGermany?: boolean;
  additionalUserGroups?: string[];
  facilityVersion?: string;
  isBmbfFis?: boolean;
}

import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';
import _data from './research-agenda.json';

let data: ResearchAgenda = _data;

export interface Props {
  name: string;
}

const { name } = Astro.props;

const item = data.find((item) => item.path === name);
---

<figure class="facility">
  <Image src={import(`./svg/${name}.svg`)} alt="..." width="140" height="140" />
  <figcaption>
    <p class="md">
      <strong>{item?.label}: </strong>{item?.description}
    </p>
  </figcaption>
</figure>

<style lang="stylus">

figure.facility {
  display flex;
  flex-direction column;
  width 11rem
  height 27rem

  img {
    flex 0 0 12rem
  }

  figcaption {
    flex 1;
  }
}

    
</style>
