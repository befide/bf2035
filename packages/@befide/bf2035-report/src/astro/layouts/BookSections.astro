---
import { getSections } from "@utils/getSections";
import PartLayout from "./Part.astro";
import SectionLayout from "./Section.astro";

const sections = await getSections();
---

{
  sections && (
    <div class="book-sections">
      {sections.map((section) => (
        <section class="book-section">
          {(section.data.pageType === "part" ||
            section.data.pageType === "cover") && (
            <PartLayout section={section} />
          )}
          {!(
            section.data.pageType === "part" ||
            section.data.pageType === "cover"
          ) && <SectionLayout section={section} />}
        </section>
      ))}
    </div>
  )
}
