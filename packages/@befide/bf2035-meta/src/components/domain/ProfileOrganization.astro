---
import {
  getOrganizationRoots,
  getOrganizations
} from '@/utils/content.organizations';
import ProfileOrganizationTreeNode from './ProfileOrganizationTreeNode.astro';

let { rootId } = Astro.props;

const organizations = await getOrganizations(rootId);

const organizationRoots = getOrganizationRoots(organizations);

console.log(organizationRoots);
---

<ul>
  {organizationRoots.map((root) => <ProfileOrganizationTreeNode {root} />)}
</ul>
