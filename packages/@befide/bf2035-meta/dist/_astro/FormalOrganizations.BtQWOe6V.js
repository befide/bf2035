import{r as i,o as v,c as S,a as l,w as n,b as g,f as u,F as A,d as E,t as _,g as p,n as N,e as O}from"./main.CnChN3XN.js";import{s as b}from"./index.BfS1Wx-d.js";import{_ as C,s as w}from"./_plugin-vue_export-helper.Dp6-QRIk.js";import{s as F}from"./index.Dyug92SV.js";import{s as z}from"./index.DUlJz6ci.js";/* empty css                                   */var y={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};const V={__name:"FormalOrganizations",setup(T,{expose:t}){t();const d=i(),a=i(),m=i(!0),h=i({"data.location.country.name.en":{value:null,matchMode:y.EQUALS},"data.meta.befideOrganizationCategories":{value:null,matchMode:y.CONTAINS}}),r=i();v(async()=>{d.value=await fetch("/api/formal-organizations.json").then(e=>e.json()),a.value=Array.from(new Set(d.value.flatMap(e=>e.data.meta.befideOrganizationCategoryArray))),r.value=Array.from(new Set(d.value.flatMap(e=>e.data.location.country.name.en))),m.value=!1});const c={data:d,befideOrganizationCategories:a,loading:m,filters:h,countryNames:r,getSeverity:e=>{switch(e){case"international":return"danger";case"hgf":return"success";case"university":return"info";case"mpg":return"warn";case"fraunhofer":return"info"}},ref:i,onMounted:v,get Tag(){return z},get FilterMatchMode(){return y}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},I={class:"card"},U={class:"flex items-center gap-2"};function L(T,t,d,a,m,h){const r=F,f=w,c=b;return g(),S("div",I,[l(c,{value:a.data,tableStyle:"min-width: 50rem",size:"small",dataKey:"id",loading:a.loading,filters:a.filters,"onUpdate:filters":t[0]||(t[0]=e=>a.filters=e),filterDisplay:"row",removableSort:"",sortField:"data.label.longForm.en",sortOrder:1},{empty:n(()=>t[1]||(t[1]=[u(" No organizations found. ")])),loading:n(()=>t[2]||(t[2]=[u(" Loading organization data. Please wait. ")])),default:n(()=>[l(r,{header:"Name",sortable:"",field:"data.label.longForm.en"}),l(r,{header:"Short name",sortable:"",field:"data.label.shortForm.en"}),l(r,{header:"Type",field:"data.meta.befideOrganizationCategories",showFilterMenu:!1},{body:n(({data:e})=>[(g(!0),S(A,null,E(Object.values(e.data.meta.befideOrganizationCategoryArray||[]),(s,o)=>(g(),O(a.Tag,{value:s,severity:a.getSeverity(s)},null,8,["value","severity"]))),256)),t[3]||(t[3]=u("Â  "))]),filter:n(({filterModel:e,filterCallback:s})=>[l(f,{modelValue:e.value,"onUpdate:modelValue":o=>e.value=o,onChange:o=>s(),options:a.befideOrganizationCategories,placeholder:"Select One",style:{"min-width":"12rem"},showClear:!0},{option:n(({option:o})=>[u(_(o),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),l(r,{header:"Country",sortable:"",field:"data.location.country.name.en",showFilterMenu:!1},{body:n(({data:e})=>[p("div",U,[p("span",{alt:"flag",class:N(`flag flag-${e.data.location.country.code}`),style:{width:"1rem",height:"1rem"}},null,2),p("span",null,_(e.data.location.country.name.en),1)])]),filter:n(({filterModel:e,filterCallback:s})=>[l(f,{modelValue:e.value,"onUpdate:modelValue":o=>e.value=o,onChange:o=>s(),options:a.countryNames,placeholder:"Select One",style:{"min-width":"12rem"},showClear:!0},{option:n(({option:o})=>[u(_(o),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),l(r,{header:"City",sortable:"",field:"data.location.city"})]),_:1},8,["value","loading","filters"])])}const Q=C(V,[["render",L]]);export{Q as default};
