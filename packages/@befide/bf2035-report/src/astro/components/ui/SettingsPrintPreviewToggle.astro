<label class="toggle">
  <span class="label-text">Print preview</span>
  <input id="toggle__print_preview" type="checkbox" role="switch" />
  <span class="state">
    <span class="on" aria-hidden="true">On</span>
    <span class="off" aria-hidden="true">Off</span>
  </span>
</label>

<script>
  import {
    updateDocumentSettings,
    togglePrintPreview,
  } from "@utils/settingsStore.js";

  updateDocumentSettings.printPreview();
  document.addEventListener(
    "astro:after-swap",
    updateDocumentSettings.printPreview
  );

  document
    .getElementById("toggle__print_preview")
    ?.addEventListener("click", togglePrintPreview);

  document.addEventListener("keyup", function (e) {
    if (e.ctrlKey && e.shiftKey && e.code === "KeyP") {
      document.getElementById("toggle__print_preview")?.click();
    }
  });
</script>
