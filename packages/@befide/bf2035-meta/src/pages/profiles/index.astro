---
import { getCommunityTopLevelOrganizations } from '@/utils';
import { LinkCard, CardGrid } from '@astrojs/starlight/components';
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';

const organizations = await getCommunityTopLevelOrganizations();
---

<StarlightPage frontmatter={{ title: 'Profiles Index' }}>
  <CardGrid>
    {
      organizations.map((organization) => (
        <LinkCard
          title={organization.label.short.en || organization.label.fullName.en}
          description={organization.label.fullName.en}
          href={'/profiles/' + organization.id}
        />
      ))
    }
  </CardGrid>
</StarlightPage>
