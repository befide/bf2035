---
import Base from "./Base.astro";
import Footer from "@ui/LayoutFooter.astro";
import Header from "@ui/LayoutHeader.astro";
import BookSections from "./BookSections.astro";
import { getSections } from "@utils/getSections.ts";

const sections = await getSections().then((r) =>
  r.filter(
    (section) =>
      !section.data.excludeFromTour &&
      section.id.indexOf("strategiefelder") > -1
  )
);
---

<Base>
  <div class="layout layout--book">
    <Header />
    <main id="main" class="layout__main" data-pagefind-body>
      <div class="content-wrapper">
        <BookSections sections={sections} />
      </div>
    </main>
    <div class="layout__paged-js layout__paged-js--book">
      <!-- <vue-paged-js refid="main" mode="book" /> -->
    </div>
    <Footer />
  </div>
</Base>
